@model ZLERP.Model.ViewModels.ContractGHAndItems
@section HeaderSection{
    <script src="@Url.Content("~/Scripts/ajaxfileupload.js")" type="text/javascript" language="javascript"> </script>
    <script src="@Url.Content("~/Scripts/Views/ContractGH/ContractGH.js")" type="text/javascript" language="javascript"> </script>
    <script type="text/javascript">
        var limitObj = { limit0: "limit0", limit1: "limit1", limit2: "limit2", limit3: "limit3" };
        $(function () {
            contractIndexInit({
                ContractStoreUrl: '@Url.Action("Find")',
                contractUnAuditUrl: '@Url.Action("UnAudit")',
                itemDeleteUrl: '@Url.Action("Delete", "ContractItemGH")',
                itemStoreUrl: '@Url.Action("Find", "ContractItemGH")',
                itemUpdateUrl: '@Url.Action("Update", "ContractItemGH")',
                identityStoreUrl: '@Url.Action("Find", "IdentitySetting")',
                identityAddUrl: '@Url.Action("Add", "IdentitySetting")',
                identityUpdateUrl: '@Url.Action("Update", "IdentitySetting")',
                identityRowDeleteUrl: '@Url.Action("Delete", "IdentitySetting")',
                listDataUrl: '@Url.Action("ListData", "Identity")',
                contractOtherPriceStoreUrl: '@Url.Action("Find", "ContractOtherPrice")',
                otherPriceRowDeleteUrl: '@Url.Action("Delete", "ContractOtherPrice")',
                otherPriceAddUrl: '@Url.Action("Add", "ContractOtherPrice")',
                otherPriceUpdateUrl: '@Url.Action("Update", "ContractOtherPrice")',
                saveLockUrl: '@Url.Action("QuickLock")',
                getIdentityPriceUrl: '@Url.Action("getIdentityPrice")',
                uploadUrl: '@Url.Action("Upload", "Attachment")',
                deleteAttachmentUrl: '@Url.Action("Delete", "Attachment")',
                ProjectStoreUrl: '@Url.Action("Find", "ProjectGH")',
                ProjectUpdateUrl: '@Url.Action("Update", "ProjectGH")',
                listContractItemUrl: '@Url.Action("ListData", "ContractItemGH")',
                saveTaskIdentitiesUrl: '@Url.Action("SaveTaskIdentities", "ProduceTaskGH")',
                findIdentitySettingsUrl: '@Url.Action("FindIdentitySettings", "Identitysetting")',
                handleBatchAuditUrl: '@Url.Action("BatchAudit")',
                CancelAuditUrl: '@Url.Action("CancelAudit")',
                AuditUrl: '@Url.Action("AuditNew")'
            });
        });
    </script>
    <style type="text/css">
        fieldset
        {
            padding: 1px;
            margin: 1px;
            width: 100%;
            color: #333;
            border: #06c dashed 1px;
        }
        legend
        {
            color: #1D5987;
            
            font-weight: bold;
            background: #fff;
            border: #b6b6b6 solid 1px;
            padding: 3px 6px;
        }
    </style>
}
@*合同表单*@
<div id="ContractForm" style="display: none;">
    @using (Html.BeginForm("", "", FormMethod.Post, new { encrypt = "multipart/form-data" }))
    {
        @Html.ValidationSummary()
        <table class="mvcform">
            <tr>
                <td>@Html.TextBoxFor(m => m.ContractGH.ID, new { @class = "text", style = "display:none;" })@Html.LabelFor(m => m.ContractGH.CustName)@Html.AutoComplete("ContractGH.CustomerID", "ContractGH.CustName", "ComboByKey", "Customer", "ID", "ShortName", "CustName", "IsUse=1", null)
                </td>
                
                <td>@Html.LabelFor(m => m.ContractGH.ContractST)@Html.EditorFor(m => m.ContractGH.ContractST, "DateTimeWithTime")
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.ContractET)@Html.EditorFor(m => m.ContractGH.ContractET, "DateTimeWithTime")
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.ContractName)@Html.TextBoxFor(m => m.ContractGH.ContractName, new { @class = "text" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.ContractNo)@Html.TextBoxFor(m => m.ContractGH.ContractNo, new { @class = "text" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.PaymentDate1)@Html.EditorFor(m => m.ContractGH.PaymentDate1, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.BuildUnit)@Html.TextBoxFor(m => m.ContractGH.BuildUnit, new { @class = "text" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.ProjectAddr)@Html.TextBoxFor(m => m.ContractGH.ProjectAddr, new { @class = "text" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.FootDate1)@Html.EditorFor(m => m.ContractGH.FootDate1, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.SignTotalCube)@Html.TextBoxFor(m => m.ContractGH.SignTotalCube, new { @data_val_required = "签订总方量 字段是必需的", data_val = "true" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.SignDate)@Html.EditorFor(m => m.ContractGH.SignDate, "DateTime", new { defaultValue = @DateTime.Now.ToString("yyyy-MM-dd") })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.PayBackMan)@Html.TextBoxFor(m => m.ContractGH.PayBackMan, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.SignTotalMoney)@Html.TextBoxFor(m => m.ContractGH.SignTotalMoney, new { @data_val_required = "签订总金额 字段是必需的", data_val = "true" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.ContractType)@Html.DicEditorFor(m => m.ContractGH.ContractType, DicEnum.ContractType, new { style = "width:138px;" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.PayBackTel)@Html.TextBoxFor(m => m.ContractGH.PayBackTel, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.ValuationType)@Html.DicEditorFor(m => m.ContractGH.ValuationType, DicEnum.ValuationType)
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.PaymentType)@Html.DicEditorFor(m => m.ContractGH.PaymentType, DicEnum.PaymentType)
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.MatCube)@Html.TextBoxFor(m => m.ContractGH.MatCube)
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.ContractStatus)@Html.DicEditorFor(m => m.ContractGH.ContractStatus, DicEnum.ContractStatus)
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.ContractLimitType)@Html.DicEditorFor(m => m.ContractGH.ContractLimitType, DicEnum.CubeLimit)
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.PrepayCube)@Html.TextBoxFor(m => m.ContractGH.PrepayCube)
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.Salesman)@Html.DropDownListFor(m => m.ContractGH.Salesman, (IEnumerable<SelectListItem>)ViewBag.Sales, new { @data_val_required = "业务员 字段是必需的", data_val = "true", zlerp = "combobox" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.ALinkMan)@Html.TextBoxFor(m => m.ContractGH.ALinkMan, new { @class = "text" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.ALinkTel)@Html.TextBoxFor(m => m.ContractGH.ALinkTel, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.BLinkMan)@Html.TextBoxFor(m => m.ContractGH.BLinkMan, new { @class = "text" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.BLinkTel)@Html.TextBoxFor(m => m.ContractGH.BLinkTel, new { @class = "text" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.yuejie)@Html.TextBoxFor(m => m.ContractGH.yuejie, new { @class = "text" })
                </td>
            </tr>

            <tr>
                 <td>@Html.LabelFor(m => m.ContractGH.CreditMoney)@Html.TextBoxFor(m => m.ContractGH.CreditMoney, new { Value = "0" })
                </td>
                 <td>@Html.LabelFor(m => m.ContractGH.BusinessType)@Html.DicEditorFor(m => m.ContractGH.BusinessType, DicEnum.BusinessType)
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.Remark)@Html.TextBoxFor(m => m.ContractGH.Remark, new { @class = "text" })
                </td>
                
            </tr>
            @*<tr>
                 <td>@Html.LabelFor(m => m.ContractGH.JsCoefficient)@Html.TextBoxFor(m => m.ContractGH.JsCoefficient, new { Value = "0" })
                </td>
                 <td>@Html.LabelFor(m => m.ContractGH.QyCoefficient)@Html.TextBoxFor(m => m.ContractGH.QyCoefficient, new { Value = "0" })
                </td>
                <td>@Html.LabelFor(m => m.ContractGH.HkCoefficient)@Html.TextBoxFor(m => m.ContractGH.HkCoefficient, new { Value = "0" })
                </td>
                
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.DianziString)@Html.EditorFor(m => m.ContractGH.DianziString)
                </td>
            </tr>*@
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.DeductPerPrice)@Html.TextBoxFor(m => m.ContractGH.DeductPerPrice, new { Value = "0" })
                </td>
               <td colspan="2">
                    <label>
                        合同附件
                    </label><input type="file" id="uploadFile" name="upload" />
                    <div id="Attachments" style="clear: both;">
                    </div>
                </td>
               
            </tr>
        </table>
    }
</div>

@*合同审核*@
<div id="AuditForm" style="display: none;">
    @using (Html.BeginForm())
    {
        @Html.ValidationSummary()
        <table class="mvcform">
            <tr>
                <td>@Html.TextBoxFor(m => m.ContractGH.ID, new { @class = "text", style = "display:none;" })@Html.LabelFor(m => m.ContractGH.ContractName)@Html.TextBoxFor(m => m.ContractGH.ContractName, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.SignTotalCube)@Html.TextBoxFor(m => m.ContractGH.SignTotalCube, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.SignTotalMoney)@Html.TextBoxFor(m => m.ContractGH.SignTotalMoney, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.ContractStatus)@Html.DicEditorFor(m => m.ContractGH.ContractStatus, DicEnum.ContractStatus)
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.AuditStatus)@Html.DicEditorFor(m => m.ContractGH.AuditStatus, DicEnum.AuditStatus)
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractGH.AuditInfo)@Html.TextAreaFor(m => m.ContractGH.AuditInfo)
                </td>
            </tr>
        </table>
    }
</div>

@*合同明细表单*@
<div id="ContractItemForm" style="display: none;">
    @using (Html.BeginForm())
    {
        <table class="mvcform">
            <tr>
                <td>@Html.HiddenFor(m => m.ContractItemGH.ID, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractItemGH.ContractGH.ContractName)@Html.HiddenFor(m => m.ContractItemGH.ContractID, new { @class = "text" })<span
                    id="ContractName_span" style="color: Red;"></span>@Html.DisplayTextFor(m => m.ContractItemGH.ContractID)
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractItemGH.ConStrength)@Html.DropDownListFor(m => m.ContractItemGH.ConStrength, (IEnumerable<SelectListItem>)ViewBag.ConStrength)
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractItemGH.UnPumpPrice)@Html.TextBoxFor(m => m.ContractItemGH.UnPumpPrice, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractItemGH.PumpCost)@Html.TextBoxFor(m => m.ContractItemGH.PumpCost, new { @class = "text" })
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractItemGH.SlurryPrice)@Html.TextBoxFor(m => m.ContractItemGH.SlurryPrice, new { @class = "text" })
                </td>
            </tr>
        </table>
    }
</div>

@*其他加价设定表格与表单*@
<div id="ContractOtherpriceGridAndForm" style="display: none;">
    <div id="contractOtherpriceGrid">
    </div>
    <div id="blank" style="height: 2px;">
    </div>
    <div id="contractOtherpriceForm" class="mvcform" style="width: 98%">
        @using (Html.BeginForm("Add1", "ContractOtherPrice", FormMethod.Post, new { id = "otherPriceForms" }))
        {@Html.ValidationSummary()
            <table class="mvcform paddingStyle">
                <tr>
                    <td>@Html.LabelFor(m => m.ContractOtherPrice.PriceType)
                    </td>
                    <td>@Html.LabelFor(m => m.ContractOtherPrice.CalcType)
                    </td>
                    <td>@Html.LabelFor(m => m.ContractOtherPrice.UnitPrice)
                    </td>
                    <td>
                        <div id="amountorper">@Html.LabelFor(m => m.ContractOtherPrice.Amount)</div>
                    </td>
                    <td align="center">@Html.LabelFor(m => m.ContractOtherPrice.IsAll)
                    </td>
                </tr>
                <tr>
                    <td>@Html.DicEditorFor(m => m.ContractOtherPrice.PriceType, DicEnum.PriceType, "")
                    </td>
                    <td>@Html.DicEditorFor(m => m.ContractOtherPrice.CalcType, DicEnum.CalcType, "")
                    </td>
                    <td>@Html.TextBoxFor(m => m.ContractOtherPrice.UnitPrice, new { Value = 0 })
                    </td>
                    <td>@Html.TextBoxFor(m => m.ContractOtherPrice.Amount, new { Value = 0 })
                    </td>
                    <td align="center">@Html.CheckBoxFor(m => m.ContractOtherPrice.IsAll, new { @checked = "true" })
                    </td>
                </tr>
                <tr>
                    <td colspan="5">
                        @Html.TextBoxFor(m => m.ContractOtherPrice.ID, new { @class = "text", style = "display:none;" })
                        @Html.HiddenFor(m => m.ContractOtherPrice.ContractID)
                        <button class="tbtn add" title="合同管理/保存其他加价" role="button" aria-disabled="false"
                            type="button" onclick="otherPriceSave();return false;">
                            <span class="ui-button-icon-primary ui-icon ui-icon-plus"></span><span class="ui-button-text">
                                保存</span></button>
                    </td>
                </tr>
            </table>

        }
    </div>
</div>

<div id="lockReasonForm" style="display: none;">
    @using (Html.BeginForm())
    { 
        @Html.ValidationSummary()
        <table class="mvcform">
            <tr>
                <td valign="top" style="width: 60px;">
                    锁定理由
                </td>
                <td>@Html.Hidden("ContractIDlock") @Html.TextAreaFor(m => m.ContractGH.Remark, 6, 40, new { @class = "text", id = "lockReason" })
                </td>
            </tr>
            <tr>
                <td colspan="2" align="right">
                    <button class="tbtn add" title="合同管理/锁定合同" role="button" aria-disabled="false" type="button"
                        onclick="lockSave();return false;">
                        <span class="ui-button-icon-primary ui-icon ui-icon-plus"></span><span class="ui-button-text">
                            确定</span></button>
                </td>
            </tr>
        </table>
    }
</div>

@*导入合同明细表单*@
<div id="ImportForm" style="display: none;">
    @using (Html.BeginForm())
    {
        <table class="mvcform">
            <tr>
                <td>@Html.LabelFor(m => m.ContractItemGH.ContractGH.ContractName)@Html.Hidden("contractID", null, new { @class = "text" })<span
                    id="ContractNameForImportForm" style="color: Red;"></span>@Html.DisplayTextFor(m => m.ContractItemGH.ContractID)
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.ContractItemGH.ConStrength)@Html.ListBox("conStrength", (IEnumerable<SelectListItem>)ViewBag.ConStrength, new { style = "width:180px; height:180px" })
                </td>
            </tr>
        </table>
    }
</div>

@*任务单表单*@
<div id="ProduceTaskForm" style="display: none;">
    <div id="ProduceTaskFormLeftDiv" >
        @using (Html.BeginForm())
        {
            @Html.ValidationSummary()
            <table class="mvcform">
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.CustName)@Html.TextBoxFor(m => m.ProduceTaskGH.CustName, new { @class = "text", readOnly = true })
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ContractName)@Html.TextBoxFor(m => m.ProduceTaskGH.ContractName, new { @class = "text", readOnly = true })@Html.HiddenFor(m => m.ProduceTaskGH.ContractID)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ContractItemsID)@Html.DropDownListFor(m => m.ProduceTaskGH.ContractItemsID, Enumerable.Empty<SelectListItem>(), new { @data_val_required = "合同明细 字段是必需的", data_val = "true" })
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ProjectName)@Html.TextBoxFor(m => m.ProduceTaskGH.ProjectName, new { @class = "text", readOnly = true })@Html.HiddenFor(m => m.ProduceTaskGH.ProjectID)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ProjectAddr)@Html.TextBoxFor(m => m.ProduceTaskGH.ProjectAddr)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.RegionID)@Html.DropDownListFor(m => m.ProduceTaskGH.RegionID, (IEnumerable<SelectListItem>)ViewBag.Regions, new { @data_val_required = "区间 字段是必需的", data_val = "true" })
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ConstructUnit)@Html.TextBoxFor(m => m.ProduceTaskGH.ConstructUnit, new { @data_val_required = "施工单位 字段是必需的" })
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.BuildUnit)@Html.TextBoxFor(m => m.ProduceTaskGH.BuildUnit)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.SupplyUnit)@Html.DicEditorFor(m => m.ProduceTaskGH.SupplyUnit, DicEnum.SupplyUnitSupplyUnit, new { Style = "width:127px;" })
                    </td>
                </tr>
                <tr>
                    <td colspan="3">
                        若供应单位未录入，可新增供应单位 <input id="AddUnit" type="text" value="" /> @Html.Button("新增", "onclick='AddUnit()'")
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.LinkMan)@Html.DropDownListFor(m => m.ProduceTaskGH.LinkMan, (IEnumerable<SelectListItem>)ViewBag.LinkManList, new { zlerp = "combobox" })
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.Tel)@Html.TextBoxFor(m => m.ProduceTaskGH.Tel)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.SupplyUnitTel)@Html.TextBoxFor(m => m.ProduceTaskGH.SupplyUnitTel)
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.CastMode)@Html.DicComboBoxFor(m => m.ProduceTaskGH.CastMode, DicEnum.CastMode, new { Style = "width:102px;" })
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.PumpType)@Html.DicEditorFor(m => m.ProduceTaskGH.PumpType, DicEnum.PumpType, "")
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.Slump)@Html.DicComboBoxFor(m => m.ProduceTaskGH.Slump, DicEnum.Slump, new { Style = "width:102px;" })
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.NeedDate)@Html.EditorFor(m => m.ProduceTaskGH.NeedDate, "DateTimeWithTime", new { defaultValue = @DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss") })
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.PlanCube)@Html.TextBoxFor(m => m.ProduceTaskGH.PlanCube)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.NeedTimes)@Html.TextBoxFor(m => m.ProduceTaskGH.NeedTimes)
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.TaskType) 合同任务单 @Html.TextBoxFor(m => m.ProduceTaskGH.TaskType, new { style = "display:none", Value = "TCon" })
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ConsPosType)@Html.DicEditorFor(m => m.ProduceTaskGH.ConsPosType, DicEnum.ConsPos)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ConsPos)@Html.TextBoxFor(m => m.ProduceTaskGH.ConsPos)
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.CarpGrade)@Html.DicEditorFor(m => m.ProduceTaskGH.CarpGrade, DicEnum.JP)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.IsSlurry)@Html.CheckBoxFor(m => m.ProduceTaskGH.IsSlurry)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.BetonTag)@Html.TextBoxFor(m => m.ProduceTaskGH.BetonTag)
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.CementType)@Html.DicEditorFor(m => m.ProduceTaskGH.CementType, DicEnum.CType)
                    </td>
                    <td colspan="2">@Html.LabelFor(m => m.ProduceTaskGH.OtherDemand)@Html.TextAreaFor(m => m.ProduceTaskGH.OtherDemand, 1, 50, null)
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.CompPrincipal)@Html.TextBoxFor(m => m.ProduceTaskGH.CompPrincipal)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ProductPrincipal)@Html.TextBoxFor(m => m.ProduceTaskGH.ProductPrincipal)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.Seller)@Html.DropDownListFor(m => m.ProduceTaskGH.Seller, (IEnumerable<SelectListItem>)ViewBag.Sales, null, null)
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.IsCommission)@Html.CheckBoxFor(m => m.ProduceTaskGH.IsCommission)
                    </td>
                    <td colspan="2">@Html.LabelFor(m => m.ProduceTaskGH.Remark)@Html.TextAreaFor(m => m.ProduceTaskGH.Remark, 1, 50, new { @class = "text" })
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.IdentityValue)@Html.TextBoxFor(m => m.ProduceTaskGH.IdentityValue)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ImpGrade)@Html.TextBoxFor(m => m.ProduceTaskGH.ImpGrade)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ImyGrade)@Html.TextBoxFor(m => m.ProduceTaskGH.ImyGrade)
                    </td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ImdGrade)@Html.TextBoxFor(m => m.ProduceTaskGH.ImdGrade)
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.ForkLift)@Html.AutoComplete("ProduceTaskGH.TrueName", "ProduceTaskGH.ForkLift", "Combo", "User", "TrueName", "TrueName", "IsUsed=1 AND  UserType='50'", new { allowCache = false })
                    </td>
                    <td>@Html.LabelFor(m => m.ProduceTaskGH.PlanClass)@Html.DicEditorFor(m => m.ProduceTaskGH.PlanClass, DicEnum.PlanClass, "")
                    </td>
                </tr>
            </table>
        }
    </div>
    <div id="ProduceTaskFormRightDiv" style="float: right; width: 19%">
    </div>
</div>

<div id="buttonToolbar">
</div>

@*合同列表*@
<div id="Contractid" style="float: left; width: 85%;">
</div>

@*合同砼强度明细列表*@
<div id="ContractItemGrid" style="float: right; width: 14.5%">
</div>

@*工程明细列表*@
<div id="ProjectGrid" style="float: right; width: 14.5%"></div>

@model ZLERP.Model.CarManage.V_CarMaintain
@section HeaderSection{
<script src="@Url.Content("~/Scripts/Views/CarManage/CarMaintain.js")" type="text/javascript" language="javascript"> </script>
    <script type="text/javascript">
        var options = {
            storeUrl: '@Url.Action("Find", "CarMaintain")',
            GenerateOrderNoUrl: '@Url.Action("GenerateOrderNo", "CarMaintain")', 
            GetOutDel: '@Url.Action("Find", "SC_ZhangOut")',
            GetMainDel: '@Url.Action("Find", "CarMaintainDel")',
            GetDelUrl: '@Url.Action("Get", "CarMaintainItem")' 
        };
        $(function () {
            CarMaintainIndexInit(options);
        }); 

      $("#formula-tabs").tabs({ fx: {}, selected: 0 });
</script>
}
<div id="MyJqGrid" ></div>   

<div id="formula-tabs" style="float: right; width: 100%;">
    <ul>
        <li><a href="#MyJqGridTo2" id="idinfo2">维修项目明细</a></li> 
        <li><a href="#MyJqGridTo" id="idinfo1">维修消耗明细(出库)</a></li>
    </ul>
    <div id="MyJqGridTo2"> </div>
    <div id="MyJqGridTo"></div>  
</div>
 
<div id="CarMaintainMyFormDiv" class="mvcform" style="display:none;">
@using (Html.BeginForm())
{@Html.ValidationSummary()
    @Html.HiddenFor(m => m.CarMaintain.ID)  
<table class="mvcform">  
    <tr> 
        <td>@Html.LabelFor(m => m.CarMaintain.MaintainNo)@Html.TextBoxFor(m => m.CarMaintain.MaintainNo, new { readOnly = true, @class = "inputReadOnly" }) </td>
    </tr>  
    <tr> 
         <td colspan="2"><hr/></td>
    </tr>
    <tr> 
         <td>@Html.LabelFor(m => m.CarMaintain.CarID)@Html.DropDownListFor(m => m.CarMaintain.CarID, (SelectList)ViewBag.CarList, new { style = "width:140px;" })</td>
         <td>@Html.LabelFor(m => m.CarMaintain.RepairWay)@Html.DropDownListFor(m => m.CarMaintain.RepairWay, (IEnumerable<SelectListItem>)ViewBag.RepairWays, new { @class = "text", style = "width:120px;" })</td> 
    </tr> 
     <tr>   
         <td>@Html.LabelFor(m => m.CarMaintain.RepairDate)@Html.EditorFor(m => m.CarMaintain.RepairDate)</td>
         <td>@Html.LabelFor(m => m.CarMaintain.RepairMilo)@Html.EditorFor(m => m.CarMaintain.RepairMilo)</td>
    </tr> 
   <tr>   
         <td>@Html.LabelFor(m => m.CarMaintain.GiveMan)@Html.DropDownListFor(m => m.CarMaintain.GiveMan, (IEnumerable<SelectListItem>)ViewBag.Users, "", new { @class = "text", style = "width:120px;" })</td> 
         <td>@Html.LabelFor(m => m.CarMaintain.RepairUnit)@Html.DropDownListFor(m => m.CarMaintain.RepairUnit, (SelectList)ViewBag.CarDealingsList, "", new { style = "width:140px;" })</td>
               
    </tr> 
     <tr>   
         <td>@Html.LabelFor(m => m.CarMaintain.ForecastDate)@Html.EditorFor(m => m.CarMaintain.ForecastDate)</td> 
    </tr> 
    <tr> 
          <td colspan="2"><hr/></td>
    </tr>
     <tr>  
        
    </tr> 
    <tr> 
         <td  colspan="2">@Html.LabelFor(m => m.CarMaintain.FaultDesc)@Html.TextAreaFor(m => m.CarMaintain.FaultDesc, new { style = "width:70%" })</td> 
    </tr>  
     <tr> 
           <td colspan="2"><hr/></td>
    </tr>  
      <tr  id="HiddenGetCarMan"> 
         <td>@Html.LabelFor(m => m.CarMaintain.GetCarMan)@Html.EditorFor(m => m.CarMaintain.GetCarMan)</td>
         <td>@Html.LabelFor(m => m.CarMaintain.GetCarDate)@Html.EditorFor(m => m.CarMaintain.GetCarDate)</td>
    </tr>
    <tr id="HiddenIsOver"> 
         <td>@Html.LabelFor(m => m.CarMaintain.IsOver)@Html.EditorFor(m => m.CarMaintain.IsOver)</td> 
         <td>@Html.LabelFor(m => m.CarMaintain.OverDate)@Html.EditorFor(m => m.CarMaintain.OverDate)</td> 
    </tr> 
     <tr id="HiddenRepairMan"> 
         <td>@Html.LabelFor(m => m.CarMaintain.RepairMan)@Html.EditorFor(m => m.CarMaintain.RepairMan)</td>  
    </tr>  
 
    <tr  id="HiddenRepairDesc"> 
         <td  colspan="2">@Html.LabelFor(m => m.CarMaintain.RepairDesc)@Html.TextAreaFor(m => m.CarMaintain.RepairDesc, new { style = "width:70%" })</td> 
    </tr>   
</table>
}
</div>



    <div id="CarMaintainDelForm" class="mvcform" style="display:none;"> 
        @using (Html.BeginForm())
        {@Html.ValidationSummary()
        @Html.HiddenFor(m => m.CarMaintainDel.ID)
        @Html.HiddenFor(m => m.CarMaintainDel.MaintainID)
        <table class="mvcform"> 
        <tr> 
        <td>@Html.LabelFor(m => m.CarMaintainDel.ItemID)@Html.DropDownListFor(m => m.CarMaintainDel.ItemID, (SelectList)ViewBag.ItemList,"", new { style = "width:140px;" })</td>
        </tr>
         <tr> 
            <td>@Html.LabelFor(m => m.CarMaintainDel.MaterialNum)@Html.EditorFor(m => m.CarMaintainDel.MaterialNum)</td>   
            <td>@Html.LabelFor(m => m.CarMaintainDel.MaterialPrice)@Html.EditorFor(m => m.CarMaintainDel.MaterialPrice)</td>   
        </tr>
          <tr> 
            <td>@Html.LabelFor(m => m.CarMaintainDel.MaterialCost)@Html.TextBoxFor(m => m.CarMaintainDel.MaterialCost, new { readOnly = true, @class = "inputReadOnly" })</td>
            <td>@Html.LabelFor(m => m.CarMaintainDel.ManHour)@Html.EditorFor(m => m.CarMaintainDel.ManHour)</td>   
        </tr>
           <tr> 
            <td>@Html.LabelFor(m => m.CarMaintainDel.ManHourCost)@Html.EditorFor(m => m.CarMaintainDel.ManHourCost)</td>   
            <td>@Html.LabelFor(m => m.CarMaintainDel.AllCost)@Html.TextBoxFor(m => m.CarMaintainDel.AllCost, new { readOnly = true, @class = "inputReadOnly" })</td>
        </tr>
        <tr> 
            <td  colspan="2">@Html.LabelFor(m => m.CarMaintainDel.Remark)@Html.TextAreaFor(m => m.CarMaintainDel.Remark, new { style = "width:70%" })</td> 
 
        </tr> 
        </table>
        }
  </div>


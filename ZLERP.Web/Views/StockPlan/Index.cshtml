@model ZLERP.Model.StockPlan 
@section HeaderSection{
    <script src="@Url.Content("~/Scripts/Views/StockPlan.js")" type="text/javascript" language="javascript"> </script>
    <script type="text/javascript">
        $(function () {
            stockPlanInit({
                storeUrl: '@Url.Action("Find")',
                currentUser:'@User.UserName()',
                GenerateOrderNoUrl: '@Url.Action("GenerateOrderNo", "StockPlan")',
                GetStockPactUrl: '@Url.Action("Get", "StockPact")',
                ChangeConditionUrl:'@Url.Action("ChangeCondition")' 
            });
        });
    </script>
}
<div id="MyJqGrid">
</div>
<div id="MyFormDiv" class="mvcform" style="display: none;">
    @using (Html.BeginForm())
    {@Html.ValidationSummary()
        <table class="mvcform">
            <tr>
                <td style="display: none">@Html.LabelFor(m => m.ID)@Html.EditorFor(m => m.ID)
                </td>
                <td>@Html.LabelFor(m => m.PlanNo)@Html.TextBoxFor(m => m.PlanNo, new { @readonly = "readonly", @class = "inputReadOnly" })
                </td>
                <td>@Html.LabelFor(m => m.PlanDate)@Html.EditorFor(m => m.PlanDate, "DateTime", new { defaultValue = @DateTime.Now.ToString("yyyy-MM-dd") })
                </td>
                <td>@Html.LabelFor(m => m.ExecStatus)@Html.DropDownListFor(m => m.ExecStatus, (IEnumerable<SelectListItem>)ViewBag.ExecStatus, "", new { @class = "text", style = "width:120px;" })
                </td>
            </tr>
             <tr>  
             <td colspan="3"><hr/></td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.StockPactID)@Html.AutoComplete("StockPactID", "PactName", "Combo", "StockPact", "ID", "ID", "AuditStatus=1")
                </td>
                <td>@Html.LabelFor(m => m.PactName)@Html.TextBoxFor(m => m.PactName, new { @readonly = "readonly", @class = "inputReadOnly" })
                </td>
                <td>@Html.LabelFor(m => m.SupplyName)@Html.TextBoxFor(m => m.SupplyName, new { @readonly = "readonly", @class = "inputReadOnly" })
                </td>
            </tr>
              <tr>
                <td>@Html.LabelFor(m => m.StuffID)@Html.AutoComplete("StuffID", "StuffInfo.StuffName", "Combo", "StuffInfo", "ID", "StuffName")
                </td> 
                    <td>@Html.LabelFor(m => m.QualityNeed)@Html.EditorFor(m => m.QualityNeed)
                </td>
            </tr>
            <tr> 
                <td colspan="2">@Html.LabelFor(m => m.SourceAddr)@Html.TextBoxFor(m => m.SourceAddr, new { style = "width:75%" })  
                </td>
             
                <td>@Html.LabelFor(m => m.PurNo)@Html.EditorFor(m => m.PurNo)
                </td>
                 
            </tr>
             <tr>
                <td>@Html.LabelFor(m => m.Linker)@Html.EditorFor(m => m.Linker)
                </td> 
                <td>@Html.LabelFor(m => m.LinkPhone)@Html.EditorFor(m => m.LinkPhone)
                </td>
                <td>@Html.LabelFor(m => m.OrderNum)@Html.EditorFor(m => m.OrderNum)
                </td> 
            </tr>
             <tr>  
             <td colspan="3"><hr/></td>
            </tr>
              <tr>
                <td>  
                     @Html.LabelFor(m => m.TransID)@Html.AutoComplete("TransID", "TransInfo.SupplyName", "ComboByKey", "SupplyInfo", "ID", "ShortName", "SupplyName", "supplykind in ('Su3') and IsUsed =1 ", null)
                </td>
                <td>@Html.LabelFor(m => m.CarNo)@Html.EditorFor(m => m.CarNo)
                </td>
               <td>@Html.LabelFor(m => m.TransportMode)@Html.EditorFor(m => m.TransportMode)
                </td> 
            </tr>
              <tr>
                <td>@Html.LabelFor(m => m.CarLinker)@Html.EditorFor(m => m.CarLinker)
                </td> 
                <td>@Html.LabelFor(m => m.CarLinkPhone)@Html.EditorFor(m => m.CarLinkPhone)
                </td>
                <td>@Html.LabelFor(m => m.CarDriver)@Html.EditorFor(m => m.CarDriver)
                </td> 
            </tr>
            <tr>  
             <td colspan="3"><hr/></td>
            </tr>
                <tr>
                <td>@Html.LabelFor(m => m.OutRate)@Html.EditorFor(m => m.OutRate)
                </td>
                <td>@Html.LabelFor(m => m.SiloID)@Html.AutoComplete("SiloID", "Silo.SiloName", "Combo", "Silo", "ID", "SiloName")
                </td> 
                <td>@Html.LabelFor(m => m.OneWeight)@Html.EditorFor(m => m.OneWeight)
                </td> 
            </tr>
                      <tr>
                <td>@Html.LabelFor(m => m.PlanMan)@Html.EditorFor(m => m.PlanMan)
                </td> 
                <td>@Html.LabelFor(m => m.CheckMan)@Html.EditorFor(m => m.CheckMan)
                </td>
                <td>@Html.LabelFor(m => m.CheckDate)@Html.EditorFor(m => m.CheckDate)
                </td> 
            </tr>
              <tr>  
             <td colspan="3"><hr/></td>
            </tr>
             <tr>
                <td>@Html.LabelFor(m => m.PlanAmount)@Html.EditorFor(m => m.PlanAmount)
                </td> 
                <td>@Html.LabelFor(m => m.InNum)@Html.TextBoxFor(m => m.InNum, new { @readonly = "readonly", @class = "inputReadOnly" })
                </td>
                <td>@Html.LabelFor(m => m.UnNum)@Html.TextBoxFor(m => m.UnNum, new { @readonly = "readonly", @class = "inputReadOnly" })
                </td> 
            </tr>
              <tr>
                <td>@Html.LabelFor(m => m.CarNum)@Html.TextBoxFor(m => m.CarNum, new { @readonly = "readonly", @class = "inputReadOnly" })
                </td>  
            </tr>
        </table>

    }
</div>
 

@model ZLERP.Model.SupplyChain.V_PiaoOutOrder
@section HeaderSection{
<script type="text/javascript" src="@Url.Content("~/Scripts/daterangepicker.jQuery.js")"></script>
<script src="@Url.Content("~/Scripts/Views/SupplyChain/SC_PiaoOutOrder.js")" type="text/javascript" language="javascript"> </script>
    <script type="text/javascript">
        var options = {
            storeUrl: '@Url.Action("Find", "SC_PiaoOutOrder")',
            ZhangstoreUrl: '@Url.Action("Find", "SC_ZhangOutOrder")',
            GetZhangUrl: '@Url.Action("Get", "SC_Goods")',
            GetDepartUrl: '@Url.Action("GetDepart")',
            GenerateOrderNoUrl: '@Url.Action("GenerateOrderNo", "SC_PiaoOutOrder")',
            ChangeConditionUrl: '@Url.Action("ChangeCondition")',
            PurOutUrl: '@Url.Action("PurOut")',
            IsCanOut: '@Url.Action("IsCanOut")'
        };
        $(function () {
            SC_PiaoOutOrderIndexInit(options);
        });
</script>
}
<div id="SC_PiaoOutOrderGrid"></div>
<div id="SC_PiaoOutOrderForm" class="mvcform" style="display:none;">

@using (Html.BeginForm())
{@Html.ValidationSummary()
    @Html.HiddenFor(m => m.SC_PiaoOutOrder.ID)
    @Html.HiddenFor(m => m.SC_PiaoOutOrder.DepartmentID)
<table class="mvcform"> 
    <tr> 
        <td>@Html.LabelFor(m => m.SC_PiaoOutOrder.OrderNo)@Html.TextBoxFor(m => m.SC_PiaoOutOrder.OrderNo, new { readOnly = true }) </td>
    </tr>
    <tr> 
        <td>@Html.LabelFor(m => m.SC_PiaoOutOrder.UserID)@Html.DropDownListFor(m => m.SC_PiaoOutOrder.UserID, (IEnumerable<SelectListItem>)ViewBag.Users, "", new { @class = "text", style = "width:120px;" })</td>
        <td>@Html.LabelFor(m => m.SC_PiaoOutOrder.Department.DepartmentName)@Html.TextBoxFor(m => m.SC_PiaoOutOrder.Department.DepartmentName, new { readOnly = true, @class = "inputReadOnly" })</td>
    </tr>
    <tr> 
        <td>@Html.LabelFor(m => m.SC_PiaoOutOrder.PiaoDate)@Html.EditorFor(m => m.SC_PiaoOutOrder.PiaoDate) </td>
        <td>@Html.LabelFor(m => m.SC_PiaoOutOrder.UseDate)@Html.EditorFor(m => m.SC_PiaoOutOrder.UseDate) </td>
        
    </tr>  
        <tr> 
        <td colspan="2">@Html.LabelFor(m => m.SC_PiaoOutOrder.Remark)@Html.TextAreaFor(m => m.SC_PiaoOutOrder.Remark, new { style = "width:60%" }) </td>
    </tr> 
</table>
}
</div>

<div id="SC_ZhangOutOrderGrid"></div>
<div id="SC_ZhangOutOrderForm" class="mvcform" style="display:none;">
@using (Html.BeginForm())
{@Html.ValidationSummary()
    @Html.HiddenFor(m => m.SC_ZhangOutOrder.ID)
    @Html.HiddenFor(m => m.SC_ZhangOutOrder.OrderNo)
    @Html.HiddenFor(m => m.SC_ZhangOutOrder.GoodsID) 
    @Html.HiddenFor(m => m.SC_ZhangOutOrder.SC_Goods.GoodsName);
<table class="mvcform"> 
 
    <tr> 
        <td>@Html.LabelFor(m => m.SC_ZhangOutOrder.GoodsID)@Html.AutoComplete("ID", "SC_ZhangOutOrder.SC_Goods.GoodsName", "Combo", "SC_ZhangOutOrder", "ID", "GoodsName", "IsOff=0", new { style = "width:120px" })</td>
        <td>@Html.LabelFor(m => m.SC_ZhangOutOrder.SC_Goods.Spec)@Html.TextBoxFor(m => m.SC_ZhangOutOrder.SC_Goods.Spec, new { readOnly = true, @class = "inputReadOnly" })</td>
    </tr>
    <tr> 
         <td>@Html.LabelFor(m => m.SC_ZhangOutOrder.SC_Goods.AllNum)@Html.TextBoxFor(m => m.SC_ZhangOutOrder.SC_Goods.AllNum, new { readOnly = true, @class = "inputReadOnly" })</td> 
        @*<td>@Html.LabelFor(m => m.SC_ZhangOutOrder.SC_Goods.Unit)@Html.TextBoxFor(m => m.SC_ZhangOutOrder.SC_Goods.Unit, new { readOnly = true })</td>*@
          <td >@Html.LabelFor(m => m.SC_ZhangOutOrder.Unit)@Html.DropDownListFor(m => m.SC_ZhangOutOrder.Unit, Enumerable.Empty<SelectListItem>(), new { style = "width:137px;", zlerp = "Combo" })</td>
    </tr>
     <tr>  
        <td>@Html.LabelFor(m => m.SC_ZhangOutOrder.Quantity)@Html.EditorFor(m => m.SC_ZhangOutOrder.Quantity)</td> 
    </tr>
      <tr>
       <td>@Html.LabelFor(m => m.SC_ZhangOutOrder.UnitRate)@Html.TextBoxFor(m => m.SC_ZhangOutOrder.UnitRate, new { readOnly = true, @class = "inputReadOnly" })
           
       </td>
    </tr>
    <tr> 
        <td colspan="2">@Html.LabelFor(m => m.SC_ZhangOutOrder.Remark)@Html.TextAreaFor(m => m.SC_ZhangOutOrder.Remark, new { style = "width:60%" }) </td>
    </tr> 
</table>
}
</div>
<div id="MyGoodsShowDiv" class="mvcform" style="display: none;">
      @{
          foreach (var lib in (IEnumerable<SelectListItem>)ViewBag.Libs)
          {         
               <input type="radio" id="radio_ @lib.Value" name="radio" value="@lib.Value" checked="checked" /><label for="radio_ @lib.Value">@lib.Text</label> 
            }
        } 
</div>



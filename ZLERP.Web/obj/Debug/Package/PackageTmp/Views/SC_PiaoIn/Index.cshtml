@model ZLERP.Model.SupplyChain.V_PiaoIn
@section HeaderSection{
<script type="text/javascript" src="@Url.Content("~/Scripts/daterangepicker.jQuery.js")"></script>
<script src="@Url.Content("~/Scripts/Views/SupplyChain/SC_PiaoIn.js")" type="text/javascript" language="javascript"> </script>
    <script type="text/javascript">
        var options = {
            storeUrl: '@Url.Action("Find", "SC_PiaoIn")',
            ZhangstoreUrl: '@Url.Action("Find", "SC_ZhangIn")',
            GetZhangUrl: '@Url.Action("Get", "SC_Goods")',
            GenerateOrderNoUrl: '@Url.Action("GenerateOrderNo", "SC_PiaoIn")',
            ChangeConditionUrl: '@Url.Action("ChangeCondition")',
            PurInUrl: '@Url.Action("PurInIni")',
            ListDataUnitUrl:'@Url.Action("ListDataUnit", "SC_PiaoIn")' 
        };
        $(function () {
            SC_PiaoInIndexInit(options);
        });
</script>
}
<div id="SC_PiaoInGrid"></div> 

<div id="SC_PiaoInForm" class="mvcform" style="display:none;">

@using (Html.BeginForm())
{@Html.ValidationSummary()
    @Html.HiddenFor(m => m.SC_PiaoIn.ID)
<table class="mvcform"> 
    <tr> 
         <td>@Html.LabelFor(m => m.SC_PiaoIn.InNo)@Html.TextBoxFor(m => m.SC_PiaoIn.InNo, new { readOnly = true }) </td>
         <td id="td_SC_PiaoIn_InType">@Html.LabelFor(m => m.SC_PiaoIn.InType)@Html.DropDownListFor(m => m.SC_PiaoIn.InType, (IEnumerable<SelectListItem>)ViewBag.InType, "", new { @class = "text", style = "width:155px;" })</td>
        
    </tr>
    <tr> 
        <td>@Html.LabelFor(m => m.SC_PiaoIn.InDate)@Html.EditorFor(m => m.SC_PiaoIn.InDate) </td>
        <td>@Html.LabelFor(m => m.SC_PiaoIn.SupplierID)@Html.DropDownListFor(m => m.SC_PiaoIn.SupplierID, (IEnumerable<SelectListItem>)ViewBag.Supplys, "", new { @class = "text", style = "width:155px;" })</td>
    </tr>
    <tr> 
        <td>@Html.LabelFor(m => m.SC_PiaoIn.LibID)@Html.DropDownListFor(m => m.SC_PiaoIn.LibID, (IEnumerable<SelectListItem>)ViewBag.Libs, "", new { @class = "text", style = "width:155px;" })</td>
        <td>@Html.LabelFor(m => m.SC_PiaoIn.Purchase)@Html.EditorFor(m => m.SC_PiaoIn.Purchase)</td>
    </tr>
    <tr> 
      @*  <td>@Html.LabelFor(m => m.SC_PiaoIn.Evaluate)@Html.EditorFor(m => m.SC_PiaoIn.Evaluate)</td> *@
        <td>@Html.LabelFor(m => m.SC_PiaoIn.PiaoNo)@Html.EditorFor(m => m.SC_PiaoIn.PiaoNo)</td> 
    </tr>
    <tr> 
        <td colspan="2">@Html.LabelFor(m => m.SC_PiaoIn.Remark)@Html.TextAreaFor(m => m.SC_PiaoIn.Remark, new { style = "width:70%" }) </td>
    </tr> 
</table>
}
</div>
<div id="SC_ZhangInGrid"></div> 

<div id="SC_ZhangInForm" class="mvcform" style="display:none;">
@using (Html.BeginForm())
{@Html.ValidationSummary()
    @Html.HiddenFor(m => m.SC_ZhangIn.ID)
    @Html.HiddenFor(m => m.SC_ZhangIn.InNo)
    @Html.HiddenFor(m => m.SC_ZhangIn.GoodsID)  
    @Html.HiddenFor(m => m.SC_ZhangIn.SC_Goods.GoodsName);
<table class="mvcform"> 
    <tr> 
        <td>@Html.LabelFor(m => m.SC_ZhangIn.GoodsID)@Html.AutoComplete("ID", "SC_ZhangIn.SC_Goods.GoodsName", "Combo", "SC_ZhangInOrder", "ID", "GoodsName", "IsOff=0", new { style = "width:120px" })</td>
        <td>@Html.LabelFor(m => m.SC_ZhangIn.SC_Goods.Spec)@Html.TextBoxFor(m => m.SC_ZhangIn.SC_Goods.Spec, new { readOnly = true, @class = "inputReadOnly" })</td>
    </tr> 
   @* <tr>
        <td>@Html.LabelFor(m => m.SC_ZhangIn.Quantity)@Html.TextBox("Count","1")</td>
        <td>@Html.Label("单位")@Html.DropDownList("Unit", Enumerable.Empty<SelectListItem>(), new { style = "width:137px;", zlerp = "Combo" })</td>
        
    </tr>*@
    <tr>  
        <td>@Html.LabelFor(m => m.SC_ZhangIn.PriceUnit)@Html.EditorFor(m => m.SC_ZhangIn.PriceUnit)</td>
        <td >@Html.LabelFor(m => m.SC_ZhangIn.Unit)@Html.DropDownListFor(m => m.SC_ZhangIn.Unit, Enumerable.Empty<SelectListItem>(), new { style = "width:137px;", zlerp = "Combo" })
@*        @Html.LabelFor(m => m.SC_ZhangIn.SC_Goods.Unit)@Html.TextBoxFor(m => m.SC_ZhangIn.SC_Goods.Unit, new { readOnly = true })*@
            
        </td>
    </tr> 
    <tr> 
        <td >@Html.LabelFor(m => m.SC_ZhangIn.Quantity)@Html.TextBoxFor(m => m.SC_ZhangIn.Quantity)</td>
        <td>@Html.LabelFor(m => m.SC_ZhangIn.InMoney)@Html.TextBoxFor(m => m.SC_ZhangIn.InMoney, new { readOnly = true, @class = "inputReadOnly" })</td>
    </tr>
    <tr>
       <td>@Html.LabelFor(m => m.SC_ZhangIn.UnitRate)@Html.TextBoxFor(m => m.SC_ZhangIn.UnitRate, new { readOnly = true, @class = "inputReadOnly" })
           
       </td>
    </tr>
    <tr> 
        <td>@Html.LabelFor(m => m.SC_ZhangIn.PiNo)@Html.EditorFor(m => m.SC_ZhangIn.PiNo)</td>
        <td>@Html.LabelFor(m => m.SC_ZhangIn.Sequence)@Html.TextBoxFor(m => m.SC_ZhangIn.Sequence)</td>
    </tr>
    <tr> 
        <td colspan="2">@Html.LabelFor(m => m.SC_ZhangIn.Remark)@Html.TextAreaFor(m => m.SC_ZhangIn.Remark, new { style = "width:80%" }) </td>
    </tr> 
</table>
}
</div>


 
<div id="SC_PiaoInPayForm" class="mvcform" style="display:none;"> 
@using (Html.BeginForm())
{@Html.ValidationSummary()
    @Html.HiddenFor(m => m.SC_PiaoIn.PayInID)
<table class="mvcform"> 
    <tr> 
         <td>@Html.LabelFor(m => m.SC_PiaoIn.SC_Supply.SupplierName)@Html.TextBoxFor(m => m.SC_PiaoIn.SC_Supply.SupplierName, new { readOnly = true, @class = "inputReadOnly" }) </td>
         <td>@Html.Label("原欠款额")@Html.TextBoxFor(m => m.SC_PiaoIn.SC_Supply.PayMoney, new { readOnly = true }) </td>
        
    </tr>
    <tr>  
        <td>@Html.Label("应付金额")@Html.TextBoxFor(m => m.SC_PiaoIn.InMoney, new { readOnly = true, @class = "inputReadOnly" }) </td>
    </tr>
    <tr> 
        <td>@Html.LabelFor(m => m.SC_PiaoIn.PayType)@Html.DropDownListFor(m => m.SC_PiaoIn.PayType, (IEnumerable<SelectListItem>)ViewBag.FinanceType, "", new { @class = "text", style = "width:135px;" })</td>
        <td>@Html.LabelFor(m => m.SC_PiaoIn.PayMoney)@Html.EditorFor(m => m.SC_PiaoIn.PayMoney)</td>
    </tr>
      <tr> 
        <td>@Html.LabelFor(m => m.SC_PiaoIn.PayFavourable)@Html.EditorFor(m => m.SC_PiaoIn.PayFavourable)</td>
        <td>@Html.LabelFor(m => m.SC_PiaoIn.PayOwing)@Html.TextBoxFor(m => m.SC_PiaoIn.PayOwing, new { readOnly = true, @class = "inputReadOnly" })</td>
    </tr>
    <tr> 
        <td>@Html.LabelFor(m => m.SC_PiaoIn.Payer)@Html.EditorFor(m => m.SC_PiaoIn.Payer)</td> 
        <td>@Html.LabelFor(m => m.SC_PiaoIn.Gatheringer)@Html.EditorFor(m => m.SC_PiaoIn.Gatheringer)</td> 
    </tr>
    <tr> 
        <td colspan="2">@Html.LabelFor(m => m.SC_PiaoIn.Remark2)@Html.TextAreaFor(m => m.SC_PiaoIn.Remark2, new { style = "width:70%" }) </td>
    </tr> 
</table>
}
</div>
 